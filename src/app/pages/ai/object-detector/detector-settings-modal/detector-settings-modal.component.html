<ion-header>
  <ion-toolbar>
    <ion-title>{{ 'ai-model.DETECTOR_SETTINGS' | transloco }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="cancel()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-list>
    <!-- Model Selection -->
    <ion-item>
      <ion-select
        label="{{ 'ai-model.MODEL' | transloco }}"
        [(ngModel)]="selectedModel"
        (ionChange)="onModelChange()"
        interface="popover"
      >
        @for (model of models; track model.name) {
          <ion-select-option [value]="model.name">{{ model.name }} ({{ model.size }} MB)</ion-select-option>
        }
      </ion-select>
    </ion-item>

    <!-- Confidence Threshold -->
    <ion-item>
      <ion-label position="stacked">
        {{ 'ai-model.CONFIDENCE_THRESHOLD' | transloco }}
        <span class="confidence-value">({{ selectedConfidence }})</span>
      </ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-range
        min="0.1"
        max="1.0"
        step="0.1"
        [(ngModel)]="selectedConfidence"
        (ngModelChange)="onConfidenceChange()"

        style="width: 100%;"
      >
        <ion-icon name="chevron-down" slot="start"></ion-icon>
        <ion-icon name="chevron-up" slot="end"></ion-icon>
      </ion-range>
    </ion-item>
  </ion-list>

</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-button (click)="cancel()">{{ 'ai-model.BUTTON_CANCEL' | transloco }}</ion-button>
      <ion-button (click)="applySettings()">{{ 'ai-model.BUTTON_SAVE' | transloco }}</ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
