import{z as G}from"./chunk-HC5WD3P2.js";import{a as J}from"./chunk-HC3BP3NQ.js";import{a as K}from"./chunk-OPGM3H6O.js";import{$ as i,G as a,H as g,M as w,Sb as A,Ub as N,V as E,Va as M,Vb as P,W as v,Wb as W,Y as I,Yb as $,Z as x,aa as r,ba as k,cc as U,dc as j,ec as H,fa as f,ga as m,gb as D,ha as _,lb as F,q as p,qb as V,sa as d,sc as O,t as u,ta as y,tc as z,u as h,ua as b,xa as S,xb as q,ya as L,za as T}from"./chunk-FBZGSWPW.js";import{a as C,i as B}from"./chunk-C4LRBQUY.js";var R=(c,e)=>e.id;function X(c,e){if(c&1){let t=f();i(0,"ion-button",5),m("click",function(){u(t);let o=_();return h(o.cancelEdit())}),d(1," Cancel "),r()}}function Y(c,e){if(c&1){let t=f();i(0,"ion-item",6),m("click",function(){let o=u(t).$implicit,l=_();return h(l.editBrand(o))}),i(1,"ion-label"),d(2),r(),i(3,"ion-button",7),m("click",function(){let o=u(t).$implicit,l=_();return h(l.confirmDelete(o))}),k(4,"ion-icon",8),r()()}if(c&2){let t=e.$implicit;a(2),y(t.label)}}var s=class s{brands=[];dataChanged=new g;sqlite=p(J);toast=p(K);alertController=p(G);isEditing=!1;currentBrand={label:"",deleted:0,enabled:1};resetForm(){this.currentBrand={label:"",deleted:0,enabled:1},this.isEditing=!1}async saveBrand(){var e;if(!((e=this.currentBrand.label)!=null&&e.trim())){this.toast.showWarning("Brand label is required");return}try{this.isEditing&&this.currentBrand.id?(await this.sqlite.updateBrand(this.currentBrand.id,this.currentBrand.label),this.toast.showBrandUpdated()):(await this.sqlite.insertBrand(this.currentBrand.label),this.toast.showBrandCreated()),this.resetForm(),this.dataChanged.emit()}catch(t){console.error("Error saving brand:",t),this.toast.showBrandSaveError()}}editBrand(e){this.currentBrand=C({},e),this.isEditing=!0}cancelEdit(){this.resetForm()}async confirmDelete(e){await(await this.alertController.create({header:"Confirm Delete",message:`Are you sure you want to delete brand "${e.label}"?`,buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",role:"destructive",handler:()=>{this.deleteBrand(e)}}]})).present()}async deleteBrand(e){try{await this.sqlite.deleteBrand(e.id),this.toast.showBrandDeleted(),this.dataChanged.emit()}catch(t){console.error("Error deleting brand:",t),this.toast.showBrandDeleteError()}}};B(s,"\u0275fac",function(t){return new(t||s)}),B(s,"\u0275cmp",w({type:s,selectors:[["app-brand-list"]],inputs:{brands:"brands"},outputs:{dataChanged:"dataChanged"},decls:18,vars:5,consts:[[1,"glass-card"],[2,"color","var(--ion-color-primary)","font-weight","600"],["label","Label","labelPlacement","floating","placeholder","Enter brand label",3,"ngModelChange","ngModel"],["expand","block",3,"click"],["expand","block","fill","outline"],["expand","block","fill","outline",3,"click"],[3,"click"],["slot","end","fill","clear","color","danger",3,"click"],["name","trash"]],template:function(t,n){t&1&&(i(0,"ion-card",0)(1,"ion-card-header")(2,"ion-card-title",1),d(3),r()(),i(4,"ion-card-content")(5,"ion-item")(6,"ion-input",2),T("ngModelChange",function(l){return L(n.currentBrand.label,l)||(n.currentBrand.label=l),l}),r()(),i(7,"ion-button",3),m("click",function(){return n.saveBrand()}),d(8),r(),E(9,X,2,0,"ion-button",4),r()(),i(10,"ion-card",0)(11,"ion-card-header")(12,"ion-card-title",1),d(13),r()(),i(14,"ion-card-content")(15,"ion-list"),I(16,Y,5,1,"ion-item",null,R),r()()()),t&2&&(a(3),b(" ",n.isEditing?"Edit Brand":"Add Brand"," "),a(3),S("ngModel",n.currentBrand.label),a(2),b(" ",n.isEditing?"Update Brand":"Add Brand"," "),a(),v(n.isEditing?9:-1),a(4),b(" Brands (",n.brands.length,") "),a(3),x(n.brands))},dependencies:[M,q,F,V,D,H,U,j,A,O,z,N,W,$,P],encapsulation:2}));var Q=s;export{Q as a};
