import{a as f,b as v}from"./chunk-WADKJUL4.js";import{a as e,b as s}from"./chunk-CKP3SGE2.js";var y=o=>{if(s===void 0||o===f.None||o===void 0)return null;let n=s.querySelector("ion-app");return n!=null?n:s.body},b=o=>{let n=y(o);return n===null?0:n.clientHeight},z=async o=>{let n,l,r,d,a=async()=>{let t=await v.getResizeMode(),i=t===void 0?void 0:t.mode;n=()=>{d===void 0&&(d=b(i)),r=!0,c(r,i)},l=()=>{r=!1,c(r,i)},e===null||e===void 0||e.addEventListener("keyboardWillShow",n),e===null||e===void 0||e.addEventListener("keyboardWillHide",l)},c=(t,i)=>{o&&o(t,m(i))},m=t=>{if(d===0||d===b(t))return;let i=y(t);if(i!==null)return new Promise(p=>{let g=()=>{i.clientHeight===d&&(u.disconnect(),p())},u=new ResizeObserver(g);u.observe(i)})},w=()=>{e===null||e===void 0||e.removeEventListener("keyboardWillShow",n),e===null||e===void 0||e.removeEventListener("keyboardWillHide",l),n=l=void 0},H=()=>r;return await a(),{init:a,destroy:w,isKeyboardVisible:H}};export{z as a};
